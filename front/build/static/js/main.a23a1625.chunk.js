(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{27:function(e,t,c){},46:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),i=c(19),s=c.n(i),o=(c(27),c(3)),l=c(5),j=c.n(l),d=(c(46),c(4));var u=c(20),b=c(21),h=c.n(b),O=c(8);function v(){var e=Object(u.a)(["\ndisplay: block;\nmargin: 0 auto;\nborder-color: red;\n"]);return v=function(){return e},e}var x=Object(O.css)(v());function p(e){return Object(n.jsx)(n.Fragment,{children:e.loading&&Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(h.a,{color:"rgb(54, 215, 183)",loading:e.loading,css:x,size:150})})})}function f(e){var t=e.items;return Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Invoice number"}),Object(n.jsx)("th",{children:"Invoice date"}),Object(n.jsx)("th",{children:"Product description"}),Object(n.jsx)("th",{children:"Qty"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Total"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e,t){var c=new Date(e.invoice_date);return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.invoice_num}),Object(n.jsx)("td",{children:"".concat(c.getUTCMonth()+1,"/").concat(c.getUTCDay(),"/").concat(c.getUTCFullYear())}),Object(n.jsx)("td",{children:e.product_description}),Object(n.jsx)("td",{children:e.qty}),Object(n.jsx)("td",{children:"$".concat(parseFloat(e.price).toFixed(2))}),Object(n.jsx)("td",{children:"$".concat(parseFloat(e.total).toFixed(2))})]},t)}))})]})}var m=[{value:"last_month_to_date",label:"Last month do date"},{value:"this_month",label:"This month"},{value:"this_year",label:"This year"},{value:"last_year",label:"Last year"}];var g=function(){var e=Object(d.usePromiseTracker)().promiseInProgress,t=Object(a.useState)([]),c=Object(o.a)(t,2),r=c[0],i=c[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),u=l[0],b=l[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),v=O[0],x=O[1],g=Object(a.useState)(""),_=Object(o.a)(g,2),y=_[0],N=_[1],P=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){Object(d.trackPromise)(j.a.post("http://localhost:8000/clients/").then((function(e){e.data&&n(e.data)})).catch((function(e){console.log(e)})))}),[]),c}(),k=function(e,t,c){var n=Object(a.useState)([]),r=Object(o.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){Object(d.trackPromise)(j.a.post("http://localhost:8000/",{product_id:e,client_id:t,relative_date:c}).then((function(e){e.data&&s(e.data)})).catch((function(e){console.log(e)})))}),[e,t,c]),i}(v,y,u);return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"title",children:"Invoices"}),Object(n.jsxs)("div",{className:"filters",children:[Object(n.jsxs)("select",{className:"select",value:u,onChange:function(e){return b(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"Relative date"}),m.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.label},e.value)}))]}),Object(n.jsxs)("select",{className:"select",value:y,onChange:function(e){N(e.target.value),Object(d.trackPromise)(j.a.post("http://localhost:8000/products_by_client/",{client_id:e.target.value}).then((function(e){e.data&&(i(e.data),x(""))})).catch((function(e){console.log(e)})))},children:[Object(n.jsx)("option",{value:"",children:"Client"}),P.map((function(e){return Object(n.jsx)("option",{value:e.client_id,children:e.client_id},e.client_id)}))]}),y&&Object(n.jsxs)("select",{className:"select",value:v,onChange:function(e){return x(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"Product"}),r.map((function(e){return Object(n.jsx)("option",{value:e.product_id,children:e.product_description},e.product_id)}))]})]}),Object(n.jsx)(f,{items:k}),0===k.length&&Object(n.jsx)("p",{className:"no-entries",children:"No invoices were found."}),Object(n.jsx)(p,{loading:e})]})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.a23a1625.chunk.js.map